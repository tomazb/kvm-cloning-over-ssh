{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Project Documentation","text":"<p>This documentation is automatically generated from source code and provides comprehensive API reference with automatic linking of specification IDs to source code.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Automatic API Documentation: Generated from docstrings using mkdocstrings</li> <li>Source Code Linking: Spec IDs are automatically linked to corresponding source code</li> <li>Material Theme: Modern, responsive design with dark/light mode support</li> <li>Search: Full-text search across all documentation</li> <li>Code Highlighting: Syntax highlighting for code blocks</li> </ul>"},{"location":"#navigation","title":"Navigation","text":"<ul> <li>Browse the API Reference for detailed function and class documentation</li> <li>Use the search functionality to quickly find specific functions or concepts</li> <li>Toggle between light and dark themes using the theme switcher</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<p>The documentation is organized into logical sections:</p> <ul> <li>API Reference: Complete API documentation with type annotations</li> <li>Examples: Code examples and usage patterns</li> <li>Guides: Step-by-step tutorials and best practices</li> </ul> <p>Auto-generated Content</p> <p>This documentation is automatically generated from source code docstrings.  Spec IDs in the code are automatically linked to their implementations for easy navigation.</p>"},{"location":"#building-documentation","title":"Building Documentation","text":"<p>To build this documentation locally:</p> <pre><code>make docs\n</code></pre> <p>This will generate the HTML documentation in the <code>site/</code> directory.</p>"},{"location":"api/","title":"API Reference","text":"<p>This page provides comprehensive API documentation automatically generated from source code using mkdocstrings.</p>"},{"location":"api/#overview","title":"Overview","text":"<p>The API documentation includes:</p> <ul> <li>Function signatures with type annotations</li> <li>Docstring content with automatic formatting</li> <li>Source code links for easy navigation</li> <li>Automatic cross-referencing of spec IDs</li> </ul>"},{"location":"api/#modules","title":"Modules","text":"<p>Auto-generated Documentation</p> <p>The sections below are automatically generated from Python modules in the source code. All spec IDs mentioned in docstrings will be automatically linked to their implementations.</p>"},{"location":"api/#example-usage","title":"Example Usage","text":"<p>To include documentation for a specific module, use the mkdocstrings syntax:</p> <pre><code>::: module_name\n    options:\n      show_source: true\n      show_signature_annotations: true\n</code></pre>"},{"location":"api/#core-modules","title":"Core Modules","text":""},{"location":"api/#kvm-clone-module","title":"KVM Clone Module","text":"<p>The main module implementing VM cloning functionality with automatic spec ID linking:</p> <p>KVM Clone Utility</p> <p>This module implements the core functionality for cloning VMs over SSH. Implements specifications SPEC-001 through SPEC-005 as defined in the functional specification.</p>"},{"location":"api/#kvm_clone.VMCloner","title":"VMCloner","text":"<pre><code>VMCloner(\n    source_host: str,\n    destination_host: str,\n    ssh_options: Optional[Dict[str, Any]] = None,\n)\n</code></pre> <p>Main class for handling VM cloning operations.</p> <p>This class implements the core cloning functionality as specified in: - SPEC-001: Basic VM cloning between hosts - SPEC-002: Network configuration preservation - SPEC-003: Resource allocation management</p> <p>Attributes:</p> Name Type Description <code>source_host</code> <code>str</code> <p>Source host for cloning operations</p> <code>destination_host</code> <code>str</code> <p>Destination host for cloning operations</p> <code>ssh_options</code> <code>Dict[str, Any]</code> <p>SSH connection options</p> <p>Initialize the VM cloner.</p> <p>Parameters:</p> Name Type Description Default <code>source_host</code> <code>str</code> <p>Source host hostname or IP address</p> required <code>destination_host</code> <code>str</code> <p>Destination host hostname or IP address  </p> required <code>ssh_options</code> <code>Optional[Dict[str, Any]]</code> <p>Optional SSH connection parameters</p> <code>None</code> References <ul> <li>SPEC-001: Host connection requirements</li> <li>REQ-123: SSH authentication handling</li> </ul> Source code in <code>kvm_clone.py</code> <pre><code>def __init__(self, source_host: str, destination_host: str, ssh_options: Optional[Dict[str, Any]] = None):\n    \"\"\"\n    Initialize the VM cloner.\n\n    Args:\n        source_host: Source host hostname or IP address\n        destination_host: Destination host hostname or IP address  \n        ssh_options: Optional SSH connection parameters\n\n    References:\n        - SPEC-001: Host connection requirements\n        - REQ-123: SSH authentication handling\n    \"\"\"\n    self.source_host = source_host\n    self.destination_host = destination_host\n    self.ssh_options = ssh_options or {}\n    self.logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/#kvm_clone.VMCloner.clone_vm","title":"clone_vm","text":"<pre><code>clone_vm(\n    vm_name: str, preserve_network: bool = True\n) -&gt; bool\n</code></pre> <p>Clone a virtual machine from source to destination host.</p> <p>This method implements the primary cloning functionality as defined in SPEC-001. It handles the complete VM cloning process including disk images, configuration, and optional network preservation as specified in SPEC-002.</p> <p>Parameters:</p> Name Type Description Default <code>vm_name</code> <code>str</code> <p>Name of the virtual machine to clone</p> required <code>preserve_network</code> <code>bool</code> <p>Whether to preserve network configuration (SPEC-002)</p> <code>True</code> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if cloning was successful, False otherwise</p> <p>Raises:</p> Type Description <code>ConnectionError</code> <p>If source or destination host is unreachable (SPEC-004)</p> <code>VMExistsError</code> <p>If VM already exists on destination (SPEC-005)</p> References <ul> <li>SPEC-001: Basic cloning functionality</li> <li>SPEC-002: Network configuration preservation</li> <li>SPEC-004: Error handling for host availability</li> <li>SPEC-005: Duplicate VM name handling</li> <li>TEST-001: Cloning success validation</li> </ul> Source code in <code>kvm_clone.py</code> <pre><code>def clone_vm(self, vm_name: str, preserve_network: bool = True) -&gt; bool:\n    \"\"\"\n    Clone a virtual machine from source to destination host.\n\n    This method implements the primary cloning functionality as defined in SPEC-001.\n    It handles the complete VM cloning process including disk images, configuration,\n    and optional network preservation as specified in SPEC-002.\n\n    Args:\n        vm_name: Name of the virtual machine to clone\n        preserve_network: Whether to preserve network configuration (SPEC-002)\n\n    Returns:\n        bool: True if cloning was successful, False otherwise\n\n    Raises:\n        ConnectionError: If source or destination host is unreachable (SPEC-004)\n        VMExistsError: If VM already exists on destination (SPEC-005)\n\n    References:\n        - SPEC-001: Basic cloning functionality\n        - SPEC-002: Network configuration preservation\n        - SPEC-004: Error handling for host availability\n        - SPEC-005: Duplicate VM name handling\n        - TEST-001: Cloning success validation\n    \"\"\"\n    self.logger.info(f\"Starting clone operation for VM '{vm_name}' from {self.source_host} to {self.destination_host}\")\n\n    try:\n        # Check if VM exists on source (SPEC-001)\n        if not self._vm_exists_on_host(self.source_host, vm_name):\n            self.logger.error(f\"VM '{vm_name}' not found on source host {self.source_host}\")\n            return False\n\n        # Check if VM already exists on destination (SPEC-005)\n        if self._vm_exists_on_host(self.destination_host, vm_name):\n            self.logger.warning(f\"VM '{vm_name}' already exists on destination host {self.destination_host}\")\n            return False\n\n        # Perform the actual cloning operation\n        success = self._execute_clone(vm_name, preserve_network)\n\n        if success:\n            self.logger.info(f\"Successfully cloned VM '{vm_name}'\")\n            return True\n        else:\n            self.logger.error(f\"Failed to clone VM '{vm_name}'\")\n            return False\n\n    except Exception as e:\n        self.logger.error(f\"Clone operation failed: {e}\")\n        return False\n</code></pre>"},{"location":"api/#kvm_clone.main","title":"main","text":"<pre><code>main()\n</code></pre> <p>Main entry point for the kvm-clone utility.</p> <p>Implements the command-line interface as specified in the functional specification. Supports the primary command format: kvm-clone --src hostA --dst hostB vmname</p> References <ul> <li>DOC-001: Command-line interface specification</li> <li>SPEC-001: Primary cloning functionality</li> </ul> Source code in <code>kvm_clone.py</code> <pre><code>def main():\n    \"\"\"\n    Main entry point for the kvm-clone utility.\n\n    Implements the command-line interface as specified in the functional specification.\n    Supports the primary command format: kvm-clone --src hostA --dst hostB vmname\n\n    References:\n        - DOC-001: Command-line interface specification\n        - SPEC-001: Primary cloning functionality\n    \"\"\"\n    import argparse\n\n    parser = argparse.ArgumentParser(description='Clone KVM virtual machines over SSH')\n    parser.add_argument('--src', required=True, help='Source host')\n    parser.add_argument('--dst', required=True, help='Destination host') \n    parser.add_argument('vmname', help='Name of VM to clone')\n    parser.add_argument('--preserve-network', action='store_true', \n                       help='Preserve network configuration (SPEC-002)')\n\n    args = parser.parse_args()\n\n    cloner = VMCloner(args.src, args.dst)\n    success = cloner.clone_vm(args.vmname, args.preserve_network)\n\n    if success:\n        print(f\"Successfully cloned VM '{args.vmname}' from {args.src} to {args.dst}\")\n        return 0\n    else:\n        print(f\"Failed to clone VM '{args.vmname}'\")\n        return 1\n</code></pre>"},{"location":"api/#spec-id-linking","title":"Spec ID Linking","text":"<p>When you reference spec IDs in your docstrings (e.g., <code>SPEC-001</code>, <code>REQ-123</code>), mkdocstrings will automatically:</p> <ol> <li>Parse the spec ID format</li> <li>Generate links to the corresponding source code locations</li> <li>Provide hover tooltips with additional context</li> <li>Enable bidirectional navigation between specs and implementations</li> </ol>"},{"location":"api/#supported-spec-id-formats","title":"Supported Spec ID Formats","text":"<ul> <li><code>SPEC-XXX</code>: Specification requirements</li> <li><code>REQ-XXX</code>: Functional requirements  </li> <li><code>TEST-XXX</code>: Test specifications</li> <li><code>DOC-XXX</code>: Documentation references</li> </ul> <p>Best Practices</p> <p>Include spec IDs in your docstrings using a consistent format. The linking system will automatically detect and process them during documentation generation.</p>"},{"location":"specs/functional_spec/","title":"Functional Specification","text":""},{"location":"specs/functional_spec/#user-stories","title":"User Stories","text":"<ol> <li>As a System Administrator, I want to clone a virtual machine from one host to another so that I can quickly duplicate environments.</li> <li>As a DevOps Engineer, I want to ensure cloned VMs maintain consistent network settings to prevent configuration errors.</li> <li>As an IT Manager, I want a simple command utility to handle VM cloning to minimize training and documentation overhead.</li> </ol>"},{"location":"specs/functional_spec/#primary-command","title":"Primary Command","text":"<p>The primary command for cloning a virtual machine is:</p> <pre><code>kvm-clone --src hostA --dst hostB vmname\n</code></pre>"},{"location":"specs/functional_spec/#parameters","title":"Parameters:","text":"<ul> <li><code>--src</code>: Specifies the source host from where the VM will be cloned.</li> <li><code>--dst</code>: Specifies the destination host where the VM will be cloned to.</li> <li><code>vmname</code>: The name of the virtual machine to clone.</li> </ul>"},{"location":"specs/functional_spec/#success-cases","title":"Success Cases","text":"<ol> <li>Basic Cloning: A VM named <code>vm1</code> is successfully cloned from <code>hostA</code> to <code>hostB</code>.</li> <li>Network Configuration: The cloned VM retains its network configuration from the source.</li> <li>Resource Allocation: The cloned VM automatically allocates appropriate resources based on the destination host\u2019s capacity.</li> </ol>"},{"location":"specs/functional_spec/#edge-cases","title":"Edge Cases","text":"<ol> <li>Host Unavailability: The command handles cases where the source or destination host is unavailable.</li> <li>Existing VM Name: The system prompts for confirmation if a VM with the same name exists on the destination host.</li> <li>Partial Cloning Failure: If the cloning process is interrupted, rollback to the previous stable state is ensured.</li> </ol>"},{"location":"specs/functional_spec/#non-goals","title":"Non-Goals","text":"<ul> <li>The command will not handle VM configuration beyond network settings.</li> <li>Security policy configurations are not managed by this command.</li> <li>The command will not automate the update of VMs after cloning.</li> </ul>"}]}